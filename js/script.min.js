"use strict";var _this=void 0;function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}document.addEventListener("DOMContentLoaded",(function(){/Android|webOS|iPhone|iPad|iPod|BlackBerry|BB|PlayBook|IEMobile|Windows Phone|Kindle|Silk|Opera Mini/i.test(navigator.userAgent)?document.body.classList.remove("isPc"):document.body.classList.contains("compareBody")||document.body.classList.add("isPc"),function(){var e=document.querySelectorAll(".main-slider .swiper-container");e.length&&e.forEach((function(e){new Swiper(e,{spaceBetween:30,autoplay:{delay:5e3},effect:"fade",fadeEffect:{crossFade:!0},loop:!0,navigation:{nextEl:e.closest(".main-slider__block").querySelector(".swiper-button-next"),prevEl:e.closest(".main-slider__block").querySelector(".swiper-button-prev")},pagination:{el:e.closest(".main-slider__block").querySelector(".swiper-pagination"),clickable:!0}})}));var t=document.querySelectorAll(".products-slider__container");t.length&&t.forEach((function(e){new Swiper(e,{loop:!0,navigation:{nextEl:e.closest(".products-slider__inner").querySelector(".products-slider__button-next"),prevEl:e.closest(".products-slider__inner").querySelector(".products-slider__button-prev")},breakpoints:{320:{slidesPerView:1.8,spaceBetween:17},451:{slidesPerView:2,spaceBetween:15},768:{slidesPerView:3,spaceBetween:2},1215:{slidesPerView:4},1350:{slidesPerView:5,spaceBetween:7},1500:{slidesPerView:6,spaceBetween:1}}})}));var n=document.querySelector(".brands-slider__container");if(n)new Swiper(n,{loop:!0,navigation:{nextEl:".brands-slider__button-next",prevEl:".brands-slider__button-prev"},breakpoints:{320:{slidesPerView:1.7,spaceBetween:3},451:{slidesPerView:2,spaceBetween:7},768:{slidesPerView:3,spaceBetween:2},1215:{slidesPerView:4},1350:{slidesPerView:5,spaceBetween:7},1500:{slidesPerView:6,spaceBetween:7}}});var o=document.querySelector(".slider-banner__container");if(o)new Swiper(o,{loop:!0,autoplay:{delay:5e3},effect:"fade",fadeEffect:{crossFade:!0},pagination:{el:".slider-banner__pagination",clickable:!0}});var a=document.querySelector(".news__container");if(a){var r,s=function(){document.documentElement.clientWidth<=991&&"false"===a.dataset.mobile?(r=new Swiper(a,{slidesPerView:2,loop:!0,spaceBetween:15,breakpoints:{320:{slidesPerView:1.8,spaceBetween:9},451:{slidesPerView:2,spaceBetween:15},768:{slidesPerView:3,spaceBetween:17}},navigation:{nextEl:".news__button-next",prevEl:".news__button-prev"}}),a.dataset.mobile="true"):document.documentElement.clientWidth>991&&(a.dataset.mobile="false",a.classList.contains("swiper-container-initialized")&&r.destroy())};s(),window.addEventListener("resize",s)}}();var e=document.querySelector("[btn-catalog]");console.log(e);var t=document.querySelector(".catalog-overlay"),n=document.querySelector(".catalog-menu"),o=document.querySelector(".header__nav");function a(){n.classList.toggle("catalog-menu--active"),e.classList.toggle("active"),o.classList.toggle("hide"),r(),t.classList.toggle("active")}function r(){document.body.classList.toggle("no-scroll")}e.addEventListener("click",a),t.addEventListener("click",a);var s=document.querySelector(".header__bottom"),i=document.querySelector(".header"),c=s.scrollHeight,l=window.scrollY;function u(e,t){t>=e?(s.classList.add("fixed"),i.classList.add("change-pt")):(s.classList.remove("fixed"),i.classList.remove("change-pt"))}u(c,l),window.addEventListener("resize",(function(e){l=window.scrollY,u(c=s.scrollHeight,l)})),window.addEventListener("scroll",(function(e){l=window.scrollY,u(c=s.scrollHeight,l)}));var d=document.querySelectorAll(".catalog-menu__body"),v=document.querySelectorAll(".catalog-menu__nav-link");function f(e){for(var t=0;t<d.length;t++)d[t].classList.remove("catalog-menu__body--show");d[e].classList.add("catalog-menu__body--show")}n.addEventListener("click",(function(e){var t=e.target;if(t.classList.contains("catalog-menu__nav-link")){e.preventDefault(),n.querySelector(".catalog-menu__nav-link.active").classList.remove("active"),t.classList.add("active");for(var o=0;o<v.length;o++)t===v[o]&&f(o)}}));var m=document.querySelector(".mobile-menu"),p=document.querySelector(".burger");function y(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e.style.maxHeight?(n&&e.classList.contains("visible")&&(e.style.overflow="hidden"),e.style.maxHeight=null,t.classList.remove("opened")):(n&&e.classList.contains("visible")&&setTimeout((function(){e.style.overflow="visible"}),100),e.style.maxHeight=e.scrollHeight+"px",t.classList.add("opened"))}p.addEventListener("click",(function(e){m.classList.toggle("show"),p.classList.toggle("active"),r()})),m.addEventListener("click",(function(e){var t=e.target.closest(".mobile-menu__list-item");t&&y(t.querySelector(".mobile-menu__catalog-body"),t,!1)})),function(e,t){"object"==("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).Maska={})}(_this,(function(e){function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var s={"#":{pattern:/[0-9]/},X:{pattern:/[0-9a-zA-Z]/},S:{pattern:/[a-zA-Z]/},A:{pattern:/[a-zA-Z]/,uppercase:!0},a:{pattern:/[a-zA-Z]/,lowercase:!0},"!":{escape:!0},"*":{repeat:!0}};function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s,o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return c(t).length>1?l(t)(e,t,n,o):u(e,t,n,o)}function c(e){try{return JSON.parse(e)}catch(t){return[e]}}function l(e){var t=c(e).sort((function(e,t){return e.length-t.length}));return function(e,o,a){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],s=t.map((function(t){return u(e,t,a,!1)})),i=s.pop();for(var c in t)if(n(i,t[c],a))return u(e,t[c],a,r);return""};function n(e,t,n){for(var o in n)n[o].escape&&(t=t.replace(new RegExp(o+".{1}","g"),""));return t.split("").filter((function(e){return n[e]&&n[e].pattern})).length>=e.length}}function u(e,t,n){for(var o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=0,r=0,s="",i="";a<t.length&&r<e.length;){var c=t[a],l=e[r],u=n[c];if(u&&u.pattern)u.pattern.test(l)&&(s+=d(l,u),a++,o&&t[a]&&(n[t[a]]?n[t[a]]&&n[t[a]].escape&&(s+=t[a+1],a+=2):(s+=t[a],a++))),r++;else if(u&&u.repeat){var v=n[t[a-1]];v&&!v.pattern.test(l)?a++:a--}else u&&u.escape&&(c=t[++a]),o&&(s+=c),l===c&&r++,a++}for(;o&&a<t.length;){var f=t[a];if(n[f]){i="";break}i+=f,a++}return s+i}function d(e,t){return t.transform&&(e=t.transform(e)),t.uppercase?e.toLocaleUpperCase():t.lowercase?e.toLocaleLowerCase():e}function v(e){return e instanceof HTMLInputElement?e:e.querySelector("input")||e}function f(e){return"[object String]"===Object.prototype.toString.call(e)}var m,p=function(){function e(n){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t(this,e),!n)throw new Error("Maska: no element for mask");if(o.tokens)for(var a in o.tokens)o.tokens[a]=r({},o.tokens[a]),o.tokens[a].pattern&&f(o.tokens[a].pattern)&&(o.tokens[a].pattern=new RegExp(o.tokens[a].pattern));this._opts={mask:o.mask,tokens:r(r({},s),o.tokens)},this._el=f(n)?document.querySelectorAll(n):n.length?n:[n],this.init()}var o,a;return o=e,(a=[{key:"init",value:function(){for(var e=this,t=0;t<this._el.length;t++){var n=v(this._el[t]);!this._opts.mask||n.dataset.mask&&n.dataset.mask===this._opts.mask||(n.dataset.mask=this._opts.mask),this.updateValue(n),n.dataset.maskInited||(n.dataset.maskInited=!0,n.addEventListener("input",(function(t){return e.updateValue(t.target,t)})),n.addEventListener("beforeinput",(function(t){return e.beforeInput(t)})))}}},{key:"destroy",value:function(){for(var e=this,t=0;t<this._el.length;t++){var n=v(this._el[t]);n.removeEventListener("input",(function(t){return e.updateValue(t.target,t)})),n.removeEventListener("beforeinput",(function(t){return e.beforeInput(t)})),delete n.dataset.mask,delete n.dataset.maskInited}}},{key:"updateValue",value:function(e,t){if(e&&e.type){var n=e.type.match(/^number$/i)&&e.validity.badInput;if(!e.value&&!n||!e.dataset.mask)return e.dataset.maskRawValue="",void this.dispatch("maska",e,t);var o=e.selectionEnd,a=e.value,r=a[o-1];e.dataset.maskRawValue=i(e.value,e.dataset.mask,this._opts.tokens,!1),e.value=i(e.value,e.dataset.mask,this._opts.tokens),t&&"insertText"===t.inputType&&o===a.length&&(o=e.value.length),function(e,t,n){for(;t&&t<e.value.length&&e.value.charAt(t-1)!==n;)t++;(e.type?e.type.match(/^(text|search|password|tel|url)$/i):!e.type)&&e===document.activeElement&&(e.setSelectionRange(t,t),setTimeout((function(){e.setSelectionRange(t,t)}),0))}(e,o,r),this.dispatch("maska",e,t),e.value!==a&&this.dispatch("input",e,t)}}},{key:"beforeInput",value:function(e){e&&e.target&&e.target.type&&e.target.type.match(/^number$/i)&&e.data&&isNaN(e.target.value+e.data)&&e.preventDefault()}},{key:"dispatch",value:function(e,t,n){t.dispatchEvent(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=document.createEvent("Event");return n.initEvent(e,!0,!0),t&&(n.inputType=t),n}(e,n&&n.inputType||null))}}])&&n(o.prototype,a),e}(),y=(m=new WeakMap,function(e,t){if(t.value)return m.has(e)&&!function(e){return!(f(e.value)&&e.value===e.oldValue||Array.isArray(e.value)&&JSON.stringify(e.value)===JSON.stringify(e.oldValue)||e.value&&e.value.mask&&e.oldValue&&e.oldValue.mask&&e.value.mask===e.oldValue.mask)}(t)?m.get(e).updateValue(e):void m.set(e,new p(e,function(e){var t={};return e.mask?(t.mask=Array.isArray(e.mask)?JSON.stringify(e.mask):e.mask,t.tokens=e.tokens?r({},e.tokens):{}):t.mask=Array.isArray(e)?JSON.stringify(e):e,t}(t.value)))});function g(e){e.directive("maska",y)}"undefined"!=typeof window&&window.Vue&&window.Vue.use&&window.Vue.use(g),e.create=function(e,t){return new p(e,t)},e.default=g,e.install=g,e.mask=i,e.maska=y,e.tokens=s,Object.defineProperty(e,"__esModule",{value:!0})})),Maska.create(".masked"),function(){var e=document.querySelectorAll("._req._callback"),t=document.querySelectorAll("._req._buy"),n=document.querySelector('[form-btn="callback"]'),o=document.querySelector('[form-btn="buy"]');function a(e,t,n){t.length>=18&&e.length>=2?n.disabled=!1:n.disabled=!0}function r(e,t){for(var n="",o="",r=0;r<e.length;r++)e[r].addEventListener("input",(function(e){e.target.classList.contains("_phone")?((o=e.target.value).length<18?s(e.target):i(e.target),a(n,o,t)):e.target.classList.contains("_name")&&((n=e.target.value).length<2?s(e.target):i(e.target),a(n,o,t))}))}function s(e){e.closest(".form__group").querySelector("small").classList.add("error")}function i(e){e.closest(".form__group").querySelector("small").classList.remove("error")}r(e,n),r(t,o)}();var g=document.querySelector(".modal-overlay");function b(e){e.style.display="block",setTimeout((function(){e.classList.add("active")}),200),document.body.classList.add("no-scroll")}if(document.querySelectorAll('[modal-btn="#callback"]').forEach((function(e){e.addEventListener("click",(function(e){g.classList.add("modal-overlay--show"),b(g.querySelector("#callback"))}))})),g.addEventListener("click",(function(e){(e.target===g||e.target.closest(".modal__close"))&&function(e){e.forEach((function(e){e.classList.remove("active"),e.querySelectorAll(".modal__form").forEach((function(e){return e.reset()})),e.querySelectorAll("small").forEach((function(e){return e.classList.remove("error")})),setTimeout((function(){e.style.display="none",g.classList.remove("modal-overlay--show")}),300)})),m.classList.contains("show")||document.querySelector(".catalog-menu--active")||document.body.classList.remove("no-scroll")}(document.querySelectorAll(".modal"))})),document.body.classList.contains("bodyGoods")){var h=document.querySelector(".goods__item");h.addEventListener("click",(function(e){if(e.target.hasAttribute("btn-choose")){var t=h.querySelector(".chosen[btn-choose]");if(t!==e.target){var n=e.target.getAttribute("data-product-attribute-price"),o=e.target.getAttribute("data-product-attribute-value");t.classList.remove("chosen"),e.target.classList.add("chosen"),function(e,t,n){var o=n.querySelector(".goods__price");o.textContent="",o.insertAdjacentHTML("afterbegin","".concat(e,'<span style="margin-left: 4px;">руб.</span>')),n.setAttribute("data-price",e),n.setAttribute("data-value",t)}(n,o,h)}}else if(e.target.hasAttribute("modal-btn")){g.classList.add("modal-overlay--show");var a=g.querySelector(e.target.getAttribute("modal-btn"));!function(e,t){var n=t.querySelector(".goods__img img").getAttribute("src"),o=t.querySelector(".goods__title").textContent,a=t.getAttribute("data-price"),r=t.getAttribute("data-value");e.querySelector(".modal-info-title").setAttribute("value",o),e.querySelector(".modal-info-price").setAttribute("value",a),e.querySelector(".modal-info-value").setAttribute("value",r),e.querySelector(".modal-product-title").textContent=o;var s=e.querySelector(".modal-product-price");s.textContent="",s.insertAdjacentHTML("afterbegin","".concat(a,"<span>руб.</span>")),e.querySelector(".modal-product-img").setAttribute("src",n)}(a,h),b(a)}else if(e.target.classList.contains("btn--goods-text")&&!e.target.classList.contains("isSelected")){var r=e.target.closest(".goods__footer");r.querySelector(".btn--goods-text.isSelected").classList.remove("isSelected"),e.target.classList.add("isSelected"),r.querySelector("[select-block].active").classList.remove("active"),r.querySelector(e.target.dataset.block).classList.add("active")}}))}if(function(){var e=document.getElementById("filter-price");if(e){noUiSlider.create(e,{start:[1e3,3e5],connect:!0,range:{min:350,max:35e4},tooltips:!0,format:wNumb({decimals:0,thousand:" "})});var t=document.querySelector(".form__control--filter-price.start"),n=document.querySelector(".form__control--filter-price.end"),o=[t,n];e.noUiSlider.on("update",(function(e,t){o[t].value=e[t]})),t.addEventListener("change",a),n.addEventListener("change",a)}function a(){var o=t.value,a=n.value;e.noUiSlider.set([o,a])}}(),document.body.classList.contains("catalogBody")){var _=function(){var e=this.textContent,t=this.closest(".select"),n=t.querySelector(".select__current");n.textContent=e,n.classList.add("chosen"),t.classList.remove("active")},L=document.querySelectorAll(".isOpendFirstly");console.log(L);for(var w=0;w<L.length;w++)L[w].classList.contains("visible")&&(L[w].style.overflow="visible"),L[w].style.maxHeight=L[w].scrollHeight+"px";var S=document.body.querySelector(".catalog-goods"),k=document.querySelector("[data-select]"),q=document.querySelectorAll(".select__item");k.addEventListener("click",(function(){this.closest(".select").classList.toggle("active")}));for(var E=0;E<q.length;E++)q[E].addEventListener("click",_);document.body.addEventListener("click",(function(e){var t=e.target;!t.closest(".select")&&document.querySelector(".select.active")&&document.querySelector(".select").classList.remove("active");var n=t.closest("button[btn-view]"),o=document.querySelector(".btn[btn-view].active");if(n&&n!=o){var a=n.getAttribute("btn-view");o.classList.remove("active"),n.classList.add("active"),"list"===a?S.classList.add("list"):S.classList.remove("list")}var r=t.closest(".filter__list-button");r&&(e.preventDefault(),y(r.closest(".filter__list-item").querySelector(".filter__list-body"),r,!0));t.classList.contains("aside__section-title")&&function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e.style.maxHeight?(n&&e.classList.contains("visible")&&(e.style.overflow="hidden"),e.style.maxHeight=null,t.classList.remove("opened")):(n&&e.classList.contains("visible")&&(e.style.overflow="visible"),e.style.maxHeight="100%",t.classList.add("opened"))}(t.closest(".aside__section").querySelector(".mobile-hidden"),t,!0);var s=t.closest(".notify__close");s&&(s.closest(".notify").classList.remove("active"),s.closest(".notify").classList.add("notActive"))}))}(function(){var e=document.querySelector("#ymap");if(e){var t=e.getAttribute("icon-url");ymaps.ready((function(){var e=new ymaps.Map("ymap",{center:[55.72325323848744,37.5721690755473],zoom:17},{searchControlProvider:"yandex#search"}),n=ymaps.templateLayoutFactory.createClass('<div style="color: #FFFFFF; font-weight: bold;">$[properties.iconContent]</div>'),o=new ymaps.Placemark(e.getCenter(),{hintContent:"Собственный значок метки",balloonContent:"Это красивая метка"},{iconLayout:"default#image",iconImageHref:t,iconImageSize:[55,71],iconImageOffset:[-5,-38]}),a=new ymaps.Placemark([55.661574,37.573856],{hintContent:"Собственный значок метки с контентом",balloonContent:"А эта — новогодняя",iconContent:"12"},{iconLayout:"default#imageWithContent",iconImageHref:"images/ball.png",iconImageSize:[48,48],iconImageOffset:[-24,-24],iconContentOffset:[15,15],iconContentLayout:n});e.geoObjects.add(o).add(a)}))}}(),document.body.classList.contains("cartBody"))&&(document.body.querySelectorAll(".form__control--cnt").forEach((function(e){e.addEventListener("input",(function(e){e.target.value=e.target.value.replace(/\D+/,"")}))})),document.body.addEventListener("click",(function(e){var t=e.target;if(t.hasAttribute("btn-choose")){var n=t.closest(".product-cart__choose").querySelector(".btn--choose[btn-choose].chosen");if(n!==t){n.classList.remove("chosen"),t.classList.add("chosen");var o=t.getAttribute("data-product-attribute-value"),a=t.getAttribute("data-product-attribute-price"),r=t.closest(".cart__product"),s=r.querySelector(".product-cart__cnt span");s.textContent="pog-metr"===o?"Кол-во п/м:":"Кол-во шт:",r.setAttribute("data-value",o),r.setAttribute("data-value",a)}}})));if(document.body.classList.contains("compareBody")&&document.body.addEventListener("click",(function(e){var t=e.target;if(t.classList.contains("product__descr-close")){"open"===t.dataset.value?(t.textContent="Свернуть",t.dataset.value="close"):(t.textContent="Показать ещё",t.dataset.value="open");var n=t.closest(".product__descr"),o=n.querySelector(".product__descr-hiding"),a=n.querySelector(".product__list-item[item-back]");o.classList.toggle("opened"),a.classList.toggle("back-img")}})),document.body.classList.contains("orderBody")){document.querySelector(".form__area").addEventListener("keyup",(function(e){e.target.scrollTop>0?e.target.style.height=e.target.scrollHeight+"px":e.target.style.height="119px"}));var A=document.querySelectorAll("input[data-type-deliver]"),x=document.querySelector(".form--order");A.forEach((function(e){e.addEventListener("input",(function(e){"carry"===e.target.value?x.classList.add("carry"):x.classList.remove("carry")}))})),document.body.addEventListener("click",(function(e){var t=e.target;t.classList.contains("cart-order__title")&&y(t.closest(".cart-order--form").querySelector(".cart-order__hidden"),t,!1)}))}document.body.addEventListener("click",(function(e){var t=e.target.closest("button[btn-cart]");t&&(t.closest("article.product").classList.add("addedToCart"),t.disabled=!0)}))}));